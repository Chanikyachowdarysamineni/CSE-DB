{"ast":null,"code":"var _jsxFileName = \"D:\\\\documents\\\\Desktop\\\\CSE-DB\\\\frontend\\\\src\\\\pages\\\\Forms.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Box, Typography, Grid, Card, CardContent, Button, TextField, MenuItem, Chip, Dialog, DialogTitle, DialogContent, DialogActions, Paper, List, ListItem, ListItemText, Divider, IconButton, InputAdornment, CircularProgress, Snackbar, Alert } from '@mui/material';\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\nimport SearchIcon from '@mui/icons-material/Search';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { UserContext } from '../App';\nimport { useSocket } from '../contexts/SocketContext';\nimport fetchWithAuth from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst categories = ['All', 'Feedback', 'Registration', 'Survey', 'Assessment', 'Other'];\nconst Forms = () => {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    on,\n    off,\n    emit,\n    connected\n  } = useSocket();\n  const [search, setSearch] = useState('');\n  const [category, setCategory] = useState('All');\n  const [subject, setSubject] = useState('All');\n  const [sortBy, setSortBy] = useState('createdDate');\n  const [forms, setForms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [creating, setCreating] = useState(false);\n  const [openCreateDialog, setOpenCreateDialog] = useState(false);\n  const [openViewDialog, setOpenViewDialog] = useState(false);\n  const [selectedForm, setSelectedForm] = useState(null);\n  const [notification, setNotification] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  const [newForm, setNewForm] = useState({\n    title: '',\n    category: 'Feedback',\n    subject_name: '',\n    subject_code: '',\n    google_form_link: '',\n    google_sheet_link: '',\n    expiry_date: ''\n  });\n\n  // Fetch forms from database\n  React.useEffect(() => {\n    fetchWithAuth('/api/forms').then(res => res.ok ? res.json() : []).then(data => {\n      setForms(data);\n      setLoading(false);\n    }).catch(err => {\n      console.error('Error fetching forms:', err);\n      setForms([]);\n      setLoading(false);\n    });\n  }, []);\n\n  // Real-time updates\n  React.useEffect(() => {\n    if (!connected) return;\n    const handleNewForm = form => {\n      setForms(prev => [form, ...prev]);\n      setNotification({\n        open: true,\n        message: `üìã New form created: ${form.title}`,\n        severity: 'info'\n      });\n    };\n    const handleFormDeleted = formId => {\n      setForms(prev => prev.filter(f => f._id !== formId));\n      setNotification({\n        open: true,\n        message: 'üóëÔ∏è Form deleted',\n        severity: 'warning'\n      });\n    };\n    on('new-form', handleNewForm);\n    on('form-deleted', handleFormDeleted);\n    return () => {\n      off('new-form', handleNewForm);\n      off('form-deleted', handleFormDeleted);\n    };\n  }, [connected, on, off]);\n  const canCreate = user && ['HOD', 'DEAN', 'Faculty'].includes(user === null || user === void 0 ? void 0 : user.role);\n  const canEdit = form => {\n    var _form$created_by;\n    if (!user) return false;\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\n    if (user.role === 'Faculty') return ((_form$created_by = form.created_by) === null || _form$created_by === void 0 ? void 0 : _form$created_by._id) === user.id;\n    return false;\n  };\n  const canDelete = form => {\n    var _form$created_by2;\n    if (!user) return false;\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\n    if (user.role === 'Faculty') return ((_form$created_by2 = form.created_by) === null || _form$created_by2 === void 0 ? void 0 : _form$created_by2._id) === user.id;\n    return false;\n  };\n\n  // Filter forms\n  const filtered = forms.filter(f => {\n    var _f$title, _f$subject;\n    const matchesSearch = ((_f$title = f.title) === null || _f$title === void 0 ? void 0 : _f$title.toLowerCase().includes(search.toLowerCase())) || ((_f$subject = f.subject) === null || _f$subject === void 0 ? void 0 : _f$subject.toLowerCase().includes(search.toLowerCase()));\n    const matchesCategory = category === 'All' || f.category === category;\n    const matchesSubject = subject === 'All' || f.subject_code === subject;\n\n    // Students only see approved forms\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'Student') {\n      return matchesSearch && matchesCategory && matchesSubject && f.status === 'approved';\n    }\n\n    // Faculty see their own forms and approved forms\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'Faculty') {\n      var _f$created_by;\n      return matchesSearch && matchesCategory && matchesSubject && (((_f$created_by = f.created_by) === null || _f$created_by === void 0 ? void 0 : _f$created_by._id) === (user === null || user === void 0 ? void 0 : user.id) || f.status === 'approved');\n    }\n\n    // HOD and DEAN see all forms\n    return matchesSearch && matchesCategory && matchesSubject;\n  });\n\n  // Sort forms\n  const sorted = React.useMemo(() => {\n    let result = [...filtered];\n    switch (sortBy) {\n      case 'category':\n        result.sort((a, b) => (a.category || '').localeCompare(b.category || ''));\n        break;\n      case 'subject':\n        result.sort((a, b) => (a.subject_code || '').localeCompare(b.subject_code || ''));\n        break;\n      case 'createdDate':\n        result.sort((a, b) => new Date(b.createdAt || b.created_date) - new Date(a.createdAt || a.created_date));\n        break;\n      case 'expiryDate':\n        result.sort((a, b) => new Date(a.expiry_date) - new Date(b.expiry_date));\n        break;\n      case 'responses':\n        result.sort((a, b) => (b.responses || 0) - (a.responses || 0));\n        break;\n      default:\n        break;\n    }\n    return result;\n  }, [filtered, sortBy]);\n  const handleCreateForm = async () => {\n    if (!newForm.title || !newForm.subject_name || !newForm.subject_code || !newForm.google_form_link) {\n      setNotification({\n        open: true,\n        message: 'Please fill all required fields',\n        severity: 'error'\n      });\n      return;\n    }\n    setCreating(true);\n    try {\n      const formData = {\n        ...newForm,\n        status: user.role === 'Faculty' ? 'pending' : 'approved'\n      };\n      const res = await fetchWithAuth('/api/forms', {\n        method: 'POST',\n        body: JSON.stringify(formData)\n      });\n      if (res.ok) {\n        const createdForm = await res.json();\n        setForms(prev => [createdForm, ...prev]);\n\n        // Emit socket event\n        if (connected) {\n          emit('form-created', createdForm);\n        }\n        setNotification({\n          open: true,\n          message: user.role === 'Faculty' ? '‚úÖ Form created (pending approval)' : '‚úÖ Form created successfully',\n          severity: 'success'\n        });\n        setOpenCreateDialog(false);\n        setNewForm({\n          title: '',\n          category: 'Feedback',\n          subject_name: '',\n          subject_code: '',\n          google_form_link: '',\n          google_sheet_link: '',\n          expiry_date: ''\n        });\n      } else {\n        throw new Error('Creation failed');\n      }\n    } catch (error) {\n      console.error('Error creating form:', error);\n      setNotification({\n        open: true,\n        message: '‚ùå Failed to create form',\n        severity: 'error'\n      });\n    } finally {\n      setCreating(false);\n    }\n  };\n  const handleDeleteForm = async id => {\n    if (!window.confirm('Are you sure you want to delete this form?')) return;\n    try {\n      const res = await fetchWithAuth(`/api/forms/${id}`, {\n        method: 'DELETE'\n      });\n      if (res.ok) {\n        setForms(prev => prev.filter(f => f._id !== id));\n\n        // Emit socket event\n        if (connected) {\n          emit('form-deleted', id);\n        }\n        setNotification({\n          open: true,\n          message: '‚úÖ Form deleted',\n          severity: 'success'\n        });\n      } else {\n        throw new Error('Delete failed');\n      }\n    } catch (error) {\n      console.error('Error deleting form:', error);\n      setNotification({\n        open: true,\n        message: '‚ùå Failed to delete form',\n        severity: 'error'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        fontWeight: 700,\n        children: \"Forms & Links\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), canCreate && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 24\n        }, this),\n        onClick: () => setOpenCreateDialog(true),\n        children: \"Create Form Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      gap: 2,\n      mb: 3,\n      flexWrap: \"wrap\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Search Forms\",\n        variant: \"outlined\",\n        value: search,\n        onChange: e => setSearch(e.target.value),\n        sx: {\n          flex: 1,\n          minWidth: 250\n        },\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"start\",\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Category\",\n        value: category,\n        onChange: e => setCategory(e.target.value),\n        sx: {\n          minWidth: 150\n        },\n        children: categories.map(cat => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: cat,\n          children: cat\n        }, cat, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 34\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Subject\",\n        value: subject,\n        onChange: e => setSubject(e.target.value),\n        sx: {\n          minWidth: 150\n        },\n        children: subjects.map(sub => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: sub,\n          children: sub\n        }, sub, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 32\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Sort By\",\n        value: sortBy,\n        onChange: e => setSortBy(e.target.value),\n        sx: {\n          minWidth: 150\n        },\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"createdDate\",\n          children: \"Created Date (Newest)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"expiryDate\",\n          children: \"Expiry Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"category\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"subject\",\n          children: \"Subject Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"responses\",\n          children: \"Response Count\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"300px\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this) : sorted.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      py: 4,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"No forms found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: sorted.map(form => {\n        var _form$created_by3;\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            elevation: 3,\n            sx: {\n              borderRadius: 3,\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"flex-start\",\n                mb: 2,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  fontWeight: 600,\n                  children: form.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this), canDelete(form) && /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  color: \"error\",\n                  onClick: () => handleDeleteForm(form._id),\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  gap: 1,\n                  flexWrap: 'wrap',\n                  mb: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Chip, {\n                  label: form.category,\n                  color: \"primary\",\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: form.subject_code || 'N/A',\n                  color: \"info\",\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: `${form.responses || 0} responses`,\n                  color: \"success\",\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                gutterBottom: true,\n                children: form.subject\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                display: \"block\",\n                gutterBottom: true,\n                children: [\"Created: \", new Date(form.createdAt || form.created_date).toLocaleDateString(), \" \\u2022 Expires: \", form.expiry_date ? new Date(form.expiry_date).toLocaleDateString() : 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                display: \"block\",\n                sx: {\n                  mb: 2\n                },\n                children: [\"By: \", ((_form$created_by3 = form.created_by) === null || _form$created_by3 === void 0 ? void 0 : _form$created_by3.name) || 'Unknown']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                gap: 1,\n                flexWrap: \"wrap\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"primary\",\n                  startIcon: /*#__PURE__*/_jsxDEV(OpenInNewIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 34\n                  }, this),\n                  href: form.google_form_link,\n                  target: \"_blank\",\n                  size: \"small\",\n                  children: \"Open Form\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), form.google_sheet_link && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"secondary\",\n                  startIcon: /*#__PURE__*/_jsxDEV(OpenInNewIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 36\n                  }, this),\n                  href: form.google_sheet_link,\n                  target: \"_blank\",\n                  size: \"small\",\n                  children: \"View Responses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"text\",\n                  size: \"small\",\n                  onClick: () => {\n                    setSelectedForm(form);\n                    setOpenViewDialog(true);\n                  },\n                  children: \"Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)\n        }, form._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openCreateDialog,\n      onClose: () => setOpenCreateDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Create Form Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Form Title\",\n          value: newForm.title,\n          onChange: e => setNewForm({\n            ...newForm,\n            title: e.target.value\n          }),\n          margin: \"normal\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          select: true,\n          label: \"Category\",\n          value: newForm.category,\n          onChange: e => setNewForm({\n            ...newForm,\n            category: e.target.value\n          }),\n          margin: \"normal\",\n          children: categories.filter(c => c !== 'All').map(cat => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: cat,\n            children: cat\n          }, cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Subject Name\",\n          value: newForm.subject_name,\n          onChange: e => setNewForm({\n            ...newForm,\n            subject_name: e.target.value\n          }),\n          margin: \"normal\",\n          placeholder: \"e.g., Database Management Systems\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Subject Code\",\n          value: newForm.subject_code,\n          onChange: e => setNewForm({\n            ...newForm,\n            subject_code: e.target.value\n          }),\n          margin: \"normal\",\n          placeholder: \"e.g., CSE401\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Google Form Link\",\n          value: newForm.google_form_link,\n          onChange: e => setNewForm({\n            ...newForm,\n            google_form_link: e.target.value\n          }),\n          margin: \"normal\",\n          placeholder: \"https://forms.google.com/...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Google Sheet Link (Responses)\",\n          value: newForm.google_sheet_link,\n          onChange: e => setNewForm({\n            ...newForm,\n            google_sheet_link: e.target.value\n          }),\n          margin: \"normal\",\n          placeholder: \"https://docs.google.com/spreadsheets/...\",\n          helperText: \"Optional - Link to view form responses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Expiry Date\",\n          type: \"date\",\n          value: newForm.expiry_date,\n          onChange: e => setNewForm({\n            ...newForm,\n            expiry_date: e.target.value\n          }),\n          margin: \"normal\",\n          InputLabelProps: {\n            shrink: true\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenCreateDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCreateForm,\n          variant: \"contained\",\n          disabled: creating || !newForm.title || !newForm.google_form_link || !newForm.subject_code || !newForm.expiry_date,\n          startIcon: creating ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 35\n          }, this) : /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 68\n          }, this),\n          children: creating ? 'Creating...' : 'Create'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openViewDialog,\n      onClose: () => setOpenViewDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: selectedForm === null || selectedForm === void 0 ? void 0 : selectedForm.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: selectedForm && /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Category & Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                label: selectedForm.category,\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: selectedForm.subjectCode,\n                color: \"info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: selectedForm.subject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Statistics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Total Responses: \", selectedForm.responses]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Created By: \", selectedForm.createdBy]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Dates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Created: \", selectedForm.createdDate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Expires: \", selectedForm.expiryDate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Links\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              fullWidth: true,\n              startIcon: /*#__PURE__*/_jsxDEV(OpenInNewIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 30\n              }, this),\n              href: selectedForm.googleFormLink,\n              target: \"_blank\",\n              sx: {\n                mb: 1\n              },\n              children: \"Open Google Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this), selectedForm.googleSheetLink && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              fullWidth: true,\n              startIcon: /*#__PURE__*/_jsxDEV(OpenInNewIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 32\n              }, this),\n              href: selectedForm.googleSheetLink,\n              target: \"_blank\",\n              children: \"View Responses Sheet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenViewDialog(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: notification.open,\n      autoHideDuration: 6000,\n      onClose: () => setNotification({\n        ...notification,\n        open: false\n      }),\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setNotification({\n          ...notification,\n          open: false\n        }),\n        severity: notification.severity,\n        sx: {\n          width: '100%'\n        },\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n_s(Forms, \"sIipjQJ1UlUOgMh+oTCeCgAkK/E=\", false, function () {\n  return [useSocket];\n});\n_c = Forms;\nexport default Forms;\nvar _c;\n$RefreshReg$(_c, \"Forms\");","map":{"version":3,"names":["React","useState","useContext","Box","Typography","Grid","Card","CardContent","Button","TextField","MenuItem","Chip","Dialog","DialogTitle","DialogContent","DialogActions","Paper","List","ListItem","ListItemText","Divider","IconButton","InputAdornment","CircularProgress","Snackbar","Alert","OpenInNewIcon","SearchIcon","AddIcon","DeleteIcon","EditIcon","UserContext","useSocket","fetchWithAuth","jsxDEV","_jsxDEV","categories","Forms","_s","user","on","off","emit","connected","search","setSearch","category","setCategory","subject","setSubject","sortBy","setSortBy","forms","setForms","loading","setLoading","creating","setCreating","openCreateDialog","setOpenCreateDialog","openViewDialog","setOpenViewDialog","selectedForm","setSelectedForm","notification","setNotification","open","message","severity","newForm","setNewForm","title","subject_name","subject_code","google_form_link","google_sheet_link","expiry_date","useEffect","then","res","ok","json","data","catch","err","console","error","handleNewForm","form","prev","handleFormDeleted","formId","filter","f","_id","canCreate","includes","role","canEdit","_form$created_by","created_by","id","canDelete","_form$created_by2","filtered","_f$title","_f$subject","matchesSearch","toLowerCase","matchesCategory","matchesSubject","status","_f$created_by","sorted","useMemo","result","sort","a","b","localeCompare","Date","createdAt","created_date","responses","handleCreateForm","formData","method","body","JSON","stringify","createdForm","Error","handleDeleteForm","window","confirm","children","display","justifyContent","alignItems","mb","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","color","startIcon","onClick","gap","flexWrap","label","value","onChange","e","target","sx","flex","minWidth","InputProps","startAdornment","position","select","map","cat","subjects","sub","minHeight","length","textAlign","py","container","spacing","_form$created_by3","item","xs","md","elevation","borderRadius","height","size","fontSize","gutterBottom","toLocaleDateString","name","href","onClose","maxWidth","fullWidth","margin","required","c","placeholder","helperText","type","InputLabelProps","shrink","disabled","dividers","subjectCode","createdBy","createdDate","expiryDate","googleFormLink","googleSheetLink","autoHideDuration","anchorOrigin","vertical","horizontal","width","_c","$RefreshReg$"],"sources":["D:/documents/Desktop/CSE-DB/frontend/src/pages/Forms.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { \r\n  Box, Typography, Grid, Card, CardContent, Button, TextField, MenuItem, \r\n  Chip, Dialog, DialogTitle, DialogContent, DialogActions, Paper, List,\r\n  ListItem, ListItemText, Divider, IconButton, InputAdornment, CircularProgress,\r\n  Snackbar, Alert\r\n} from '@mui/material';\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { UserContext } from '../App';\r\nimport { useSocket } from '../contexts/SocketContext';\r\nimport fetchWithAuth from '../utils/api';\r\n\r\nconst categories = ['All', 'Feedback', 'Registration', 'Survey', 'Assessment', 'Other'];\r\n\r\nconst Forms = () => {\r\n  const { user } = useContext(UserContext);\r\n  const { on, off, emit, connected } = useSocket();\r\n  const [search, setSearch] = useState('');\r\n  const [category, setCategory] = useState('All');\r\n  const [subject, setSubject] = useState('All');\r\n  const [sortBy, setSortBy] = useState('createdDate');\r\n  const [forms, setForms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [creating, setCreating] = useState(false);\r\n  const [openCreateDialog, setOpenCreateDialog] = useState(false);\r\n  const [openViewDialog, setOpenViewDialog] = useState(false);\r\n  const [selectedForm, setSelectedForm] = useState(null);\r\n  const [notification, setNotification] = useState({ open: false, message: '', severity: 'info' });\r\n  const [newForm, setNewForm] = useState({\r\n    title: '',\r\n    category: 'Feedback',\r\n    subject_name: '',\r\n    subject_code: '',\r\n    google_form_link: '',\r\n    google_sheet_link: '',\r\n    expiry_date: ''\r\n  });\r\n\r\n  // Fetch forms from database\r\n  React.useEffect(() => {\r\n    fetchWithAuth('/api/forms')\r\n      .then(res => res.ok ? res.json() : [])\r\n      .then(data => {\r\n        setForms(data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error fetching forms:', err);\r\n        setForms([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // Real-time updates\r\n  React.useEffect(() => {\r\n    if (!connected) return;\r\n\r\n    const handleNewForm = (form) => {\r\n      setForms(prev => [form, ...prev]);\r\n      setNotification({ \r\n        open: true, \r\n        message: `üìã New form created: ${form.title}`, \r\n        severity: 'info' \r\n      });\r\n    };\r\n\r\n    const handleFormDeleted = (formId) => {\r\n      setForms(prev => prev.filter(f => f._id !== formId));\r\n      setNotification({ \r\n        open: true, \r\n        message: 'üóëÔ∏è Form deleted', \r\n        severity: 'warning' \r\n      });\r\n    };\r\n\r\n    on('new-form', handleNewForm);\r\n    on('form-deleted', handleFormDeleted);\r\n\r\n    return () => {\r\n      off('new-form', handleNewForm);\r\n      off('form-deleted', handleFormDeleted);\r\n    };\r\n  }, [connected, on, off]);\r\n\r\n  const canCreate = user && ['HOD', 'DEAN', 'Faculty'].includes(user?.role);\r\n  const canEdit = (form) => {\r\n    if (!user) return false;\r\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\r\n    if (user.role === 'Faculty') return form.created_by?._id === user.id;\r\n    return false;\r\n  };\r\n  const canDelete = (form) => {\r\n    if (!user) return false;\r\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\r\n    if (user.role === 'Faculty') return form.created_by?._id === user.id;\r\n    return false;\r\n  };\r\n\r\n  // Filter forms\r\n  const filtered = forms.filter(f => {\r\n    const matchesSearch = f.title?.toLowerCase().includes(search.toLowerCase()) || \r\n                         f.subject?.toLowerCase().includes(search.toLowerCase());\r\n    const matchesCategory = category === 'All' || f.category === category;\r\n    const matchesSubject = subject === 'All' || f.subject_code === subject;\r\n    \r\n    // Students only see approved forms\r\n    if (user?.role === 'Student') {\r\n      return matchesSearch && matchesCategory && matchesSubject && f.status === 'approved';\r\n    }\r\n    \r\n    // Faculty see their own forms and approved forms\r\n    if (user?.role === 'Faculty') {\r\n      return matchesSearch && matchesCategory && matchesSubject && (f.created_by?._id === user?.id || f.status === 'approved');\r\n    }\r\n    \r\n    // HOD and DEAN see all forms\r\n    return matchesSearch && matchesCategory && matchesSubject;\r\n  });\r\n\r\n  // Sort forms\r\n  const sorted = React.useMemo(() => {\r\n    let result = [...filtered];\r\n    switch(sortBy) {\r\n      case 'category':\r\n        result.sort((a, b) => (a.category || '').localeCompare(b.category || ''));\r\n        break;\r\n      case 'subject':\r\n        result.sort((a, b) => (a.subject_code || '').localeCompare(b.subject_code || ''));\r\n        break;\r\n      case 'createdDate':\r\n        result.sort((a, b) => new Date(b.createdAt || b.created_date) - new Date(a.createdAt || a.created_date));\r\n        break;\r\n      case 'expiryDate':\r\n        result.sort((a, b) => new Date(a.expiry_date) - new Date(b.expiry_date));\r\n        break;\r\n      case 'responses':\r\n        result.sort((a, b) => (b.responses || 0) - (a.responses || 0));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }, [filtered, sortBy]);\r\n\r\n  const handleCreateForm = async () => {\r\n    if (!newForm.title || !newForm.subject_name || !newForm.subject_code || !newForm.google_form_link) {\r\n      setNotification({ open: true, message: 'Please fill all required fields', severity: 'error' });\r\n      return;\r\n    }\r\n    \r\n    setCreating(true);\r\n    \r\n    try {\r\n      const formData = {\r\n        ...newForm,\r\n        status: user.role === 'Faculty' ? 'pending' : 'approved'\r\n      };\r\n\r\n      const res = await fetchWithAuth('/api/forms', {\r\n        method: 'POST',\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      if (res.ok) {\r\n        const createdForm = await res.json();\r\n        setForms(prev => [createdForm, ...prev]);\r\n        \r\n        // Emit socket event\r\n        if (connected) {\r\n          emit('form-created', createdForm);\r\n        }\r\n\r\n        setNotification({ \r\n          open: true, \r\n          message: user.role === 'Faculty' ? '‚úÖ Form created (pending approval)' : '‚úÖ Form created successfully', \r\n          severity: 'success' \r\n        });\r\n        \r\n        setOpenCreateDialog(false);\r\n        setNewForm({\r\n          title: '',\r\n          category: 'Feedback',\r\n          subject_name: '',\r\n          subject_code: '',\r\n          google_form_link: '',\r\n          google_sheet_link: '',\r\n          expiry_date: ''\r\n        });\r\n      } else {\r\n        throw new Error('Creation failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating form:', error);\r\n      setNotification({ open: true, message: '‚ùå Failed to create form', severity: 'error' });\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteForm = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this form?')) return;\r\n      \r\n      try {\r\n        const res = await fetchWithAuth(`/api/forms/${id}`, {\r\n          method: 'DELETE'\r\n        });\r\n\r\n        if (res.ok) {\r\n          setForms(prev => prev.filter(f => f._id !== id));\r\n          \r\n          // Emit socket event\r\n          if (connected) {\r\n            emit('form-deleted', id);\r\n          }\r\n\r\n          setNotification({ open: true, message: '‚úÖ Form deleted', severity: 'success' });\r\n        } else {\r\n          throw new Error('Delete failed');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting form:', error);\r\n        setNotification({ open: true, message: '‚ùå Failed to delete form', severity: 'error' });\r\n      }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Typography variant=\"h4\" fontWeight={700}>Forms & Links</Typography>\r\n        {canCreate && (\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"primary\" \r\n            startIcon={<AddIcon />}\r\n            onClick={() => setOpenCreateDialog(true)}\r\n          >\r\n            Create Form Link\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Filters and Search */}\r\n      <Box display=\"flex\" gap={2} mb={3} flexWrap=\"wrap\">\r\n        <TextField \r\n          label=\"Search Forms\" \r\n          variant=\"outlined\" \r\n          value={search} \r\n          onChange={e => setSearch(e.target.value)} \r\n          sx={{ flex: 1, minWidth: 250 }}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n        <TextField \r\n          select \r\n          label=\"Category\" \r\n          value={category} \r\n          onChange={e => setCategory(e.target.value)} \r\n          sx={{ minWidth: 150 }}\r\n        >\r\n          {categories.map(cat => <MenuItem key={cat} value={cat}>{cat}</MenuItem>)}\r\n        </TextField>\r\n        <TextField \r\n          select \r\n          label=\"Subject\" \r\n          value={subject} \r\n          onChange={e => setSubject(e.target.value)} \r\n          sx={{ minWidth: 150 }}\r\n        >\r\n          {subjects.map(sub => <MenuItem key={sub} value={sub}>{sub}</MenuItem>)}\r\n        </TextField>\r\n        <TextField \r\n          select \r\n          label=\"Sort By\" \r\n          value={sortBy} \r\n          onChange={e => setSortBy(e.target.value)} \r\n          sx={{ minWidth: 150 }}\r\n        >\r\n          <MenuItem value=\"createdDate\">Created Date (Newest)</MenuItem>\r\n          <MenuItem value=\"expiryDate\">Expiry Date</MenuItem>\r\n          <MenuItem value=\"category\">Category</MenuItem>\r\n          <MenuItem value=\"subject\">Subject Code</MenuItem>\r\n          <MenuItem value=\"responses\">Response Count</MenuItem>\r\n        </TextField>\r\n      </Box>\r\n\r\n      {/* Forms Grid */}\r\n      {loading ? (\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"300px\">\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : sorted.length === 0 ? (\r\n        <Box textAlign=\"center\" py={4}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\">\r\n            No forms found\r\n          </Typography>\r\n        </Box>\r\n      ) : (\r\n        <Grid container spacing={3}>\r\n          {sorted.map(form => (\r\n            <Grid item xs={12} md={6} key={form._id}>\r\n              <Card elevation={3} sx={{ borderRadius: 3, height: '100%' }}>\r\n                <CardContent>\r\n                  <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\r\n                    <Typography variant=\"h6\" fontWeight={600}>{form.title}</Typography>\r\n                    {canDelete(form) && (\r\n                      <IconButton \r\n                        size=\"small\" \r\n                        color=\"error\"\r\n                        onClick={() => handleDeleteForm(form._id)}\r\n                      >\r\n                        <DeleteIcon fontSize=\"small\" />\r\n                      </IconButton>\r\n                    )}\r\n                  </Box>\r\n                  \r\n                  <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mb: 2 }}>\r\n                    <Chip label={form.category} color=\"primary\" size=\"small\" />\r\n                    <Chip label={form.subject_code || 'N/A'} color=\"info\" size=\"small\" />\r\n                    <Chip label={`${form.responses || 0} responses`} color=\"success\" size=\"small\" />\r\n                  </Box>\r\n\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                    {form.subject}\r\n                  </Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" gutterBottom>\r\n                    Created: {new Date(form.createdAt || form.created_date).toLocaleDateString()} ‚Ä¢ Expires: {form.expiry_date ? new Date(form.expiry_date).toLocaleDateString() : 'N/A'}\r\n                  </Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" sx={{ mb: 2 }}>\r\n                    By: {form.created_by?.name || 'Unknown'}\r\n                  </Typography>\r\n\r\n                  <Box display=\"flex\" gap={1} flexWrap=\"wrap\">\r\n                    <Button \r\n                      variant=\"contained\" \r\n                      color=\"primary\"\r\n                      startIcon={<OpenInNewIcon />}\r\n                      href={form.google_form_link}\r\n                      target=\"_blank\"\r\n                      size=\"small\"\r\n                    >\r\n                      Open Form\r\n                    </Button>\r\n                    {form.google_sheet_link && (\r\n                      <Button \r\n                        variant=\"outlined\" \r\n                        color=\"secondary\"\r\n                        startIcon={<OpenInNewIcon />}\r\n                        href={form.google_sheet_link}\r\n                        target=\"_blank\"\r\n                        size=\"small\"\r\n                      >\r\n                        View Responses\r\n                      </Button>\r\n                    )}\r\n                  <Button \r\n                    variant=\"text\" \r\n                    size=\"small\"\r\n                    onClick={() => {\r\n                      setSelectedForm(form);\r\n                      setOpenViewDialog(true);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </Button>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      )}\r\n\r\n      {/* Create Form Dialog */}\r\n      <Dialog open={openCreateDialog} onClose={() => setOpenCreateDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Create Form Link</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Form Title\"\r\n            value={newForm.title}\r\n            onChange={(e) => setNewForm({ ...newForm, title: e.target.value })}\r\n            margin=\"normal\"\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            select\r\n            label=\"Category\"\r\n            value={newForm.category}\r\n            onChange={(e) => setNewForm({ ...newForm, category: e.target.value })}\r\n            margin=\"normal\"\r\n          >\r\n            {categories.filter(c => c !== 'All').map(cat => (\r\n              <MenuItem key={cat} value={cat}>{cat}</MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Subject Name\"\r\n            value={newForm.subject_name}\r\n            onChange={(e) => setNewForm({ ...newForm, subject_name: e.target.value })}\r\n            margin=\"normal\"\r\n            placeholder=\"e.g., Database Management Systems\"\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Subject Code\"\r\n            value={newForm.subject_code}\r\n            onChange={(e) => setNewForm({ ...newForm, subject_code: e.target.value })}\r\n            margin=\"normal\"\r\n            placeholder=\"e.g., CSE401\"\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Google Form Link\"\r\n            value={newForm.google_form_link}\r\n            onChange={(e) => setNewForm({ ...newForm, google_form_link: e.target.value })}\r\n            margin=\"normal\"\r\n            placeholder=\"https://forms.google.com/...\"\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Google Sheet Link (Responses)\"\r\n            value={newForm.google_sheet_link}\r\n            onChange={(e) => setNewForm({ ...newForm, google_sheet_link: e.target.value })}\r\n            margin=\"normal\"\r\n            placeholder=\"https://docs.google.com/spreadsheets/...\"\r\n            helperText=\"Optional - Link to view form responses\"\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Expiry Date\"\r\n            type=\"date\"\r\n            value={newForm.expiry_date}\r\n            onChange={(e) => setNewForm({ ...newForm, expiry_date: e.target.value })}\r\n            margin=\"normal\"\r\n            InputLabelProps={{ shrink: true }}\r\n            required\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenCreateDialog(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={handleCreateForm} \r\n            variant=\"contained\"\r\n            disabled={creating || !newForm.title || !newForm.google_form_link || !newForm.subject_code || !newForm.expiry_date}\r\n            startIcon={creating ? <CircularProgress size={20} /> : <AddIcon />}\r\n          >\r\n            {creating ? 'Creating...' : 'Create'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* View Form Details Dialog */}\r\n      <Dialog open={openViewDialog} onClose={() => setOpenViewDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>{selectedForm?.title}</DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedForm && (\r\n            <Box>\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>Category & Subject</Typography>\r\n                <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\r\n                  <Chip label={selectedForm.category} color=\"primary\" />\r\n                  <Chip label={selectedForm.subjectCode} color=\"info\" />\r\n                </Box>\r\n                <Typography variant=\"body2\">{selectedForm.subject}</Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>Statistics</Typography>\r\n                <Typography variant=\"body2\">Total Responses: {selectedForm.responses}</Typography>\r\n                <Typography variant=\"body2\">Created By: {selectedForm.createdBy}</Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>Dates</Typography>\r\n                <Typography variant=\"body2\">Created: {selectedForm.createdDate}</Typography>\r\n                <Typography variant=\"body2\">Expires: {selectedForm.expiryDate}</Typography>\r\n              </Box>\r\n\r\n              <Box>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>Links</Typography>\r\n                <Button \r\n                  variant=\"outlined\" \r\n                  fullWidth\r\n                  startIcon={<OpenInNewIcon />}\r\n                  href={selectedForm.googleFormLink}\r\n                  target=\"_blank\"\r\n                  sx={{ mb: 1 }}\r\n                >\r\n                  Open Google Form\r\n                </Button>\r\n                {selectedForm.googleSheetLink && (\r\n                  <Button \r\n                    variant=\"outlined\" \r\n                    fullWidth\r\n                    startIcon={<OpenInNewIcon />}\r\n                    href={selectedForm.googleSheetLink}\r\n                    target=\"_blank\"\r\n                  >\r\n                    View Responses Sheet\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenViewDialog(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Notification Snackbar */}\r\n      <Snackbar\r\n        open={notification.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setNotification({ ...notification, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={() => setNotification({ ...notification, open: false })} \r\n          severity={notification.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {notification.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Forms;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}