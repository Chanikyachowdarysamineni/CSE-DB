{"ast":null,"code":"var _jsxFileName = \"D:\\\\documents\\\\Desktop\\\\CSE-DB\\\\frontend\\\\src\\\\pages\\\\Resources.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Box, Typography, Grid, Card, CardContent, Button, Fade, Chip, TextField, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions, FormControl, InputLabel, Select, Snackbar, Alert, CircularProgress, IconButton } from '@mui/material';\nimport PreviewIcon from '@mui/icons-material/Preview';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport { UserContext } from '../App';\nimport { useSocket } from '../contexts/SocketContext';\nimport fetchWithAuth from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst types = ['All', 'PDF', 'DOCX', 'PPT', 'Link', 'Video'];\nconst folders = ['All', 'Lecture Notes', 'Lab Materials', 'Reference Books', 'Question Papers', 'Other'];\nconst Resources = () => {\n  _s();\n  var _selectedResource$typ, _selectedResource$typ2;\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    on,\n    off,\n    emit,\n    connected\n  } = useSocket();\n  const [resources, setResources] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [type, setType] = useState('All');\n  const [folder, setFolder] = useState('All');\n  const [sortBy, setSortBy] = useState('date');\n  const [openUploadDialog, setOpenUploadDialog] = useState(false);\n  const [openPreviewDialog, setOpenPreviewDialog] = useState(false);\n  const [selectedResource, setSelectedResource] = useState(null);\n  const [notification, setNotification] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  const [uploading, setUploading] = useState(false);\n  const [newResource, setNewResource] = useState({\n    name: '',\n    type: 'PDF',\n    subject_name: '',\n    subject_code: '',\n    category: 'Lecture Notes',\n    link: '',\n    file_path: '',\n    expiry_date: ''\n  });\n\n  // Fetch resources from database\n  React.useEffect(() => {\n    fetchWithAuth('/api/resources').then(res => res.ok ? res.json() : []).then(data => {\n      setResources(data);\n      setLoading(false);\n    }).catch(err => {\n      console.error('Error fetching resources:', err);\n      setResources([]);\n      setLoading(false);\n    });\n  }, []);\n\n  // Real-time updates\n  React.useEffect(() => {\n    if (!connected) return;\n    const handleNewResource = resource => {\n      setResources(prev => [resource, ...prev]);\n      setNotification({\n        open: true,\n        message: `ðŸ“š New resource uploaded: ${resource.name}`,\n        severity: 'info'\n      });\n    };\n    const handleResourceDeleted = resourceId => {\n      setResources(prev => prev.filter(r => r._id !== resourceId));\n      setNotification({\n        open: true,\n        message: 'ðŸ—‘ï¸ Resource deleted',\n        severity: 'warning'\n      });\n    };\n    on('new-resource', handleNewResource);\n    on('resource-deleted', handleResourceDeleted);\n    return () => {\n      off('new-resource', handleNewResource);\n      off('resource-deleted', handleResourceDeleted);\n    };\n  }, [connected, on, off]);\n\n  // Permissions - Faculty/HOD/DEAN can upload and manage resources\n  const canUpload = user && ['HOD', 'DEAN', 'Faculty'].includes(user === null || user === void 0 ? void 0 : user.role);\n  const canEdit = resource => {\n    if (!user) return false;\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\n    if (user.role === 'Faculty') return resource.uploaded_by === user.id;\n    return false;\n  };\n  const canDelete = resource => {\n    if (!user) return false;\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\n    if (user.role === 'Faculty') return resource.uploaded_by === user.id;\n    return false;\n  };\n  const handleUploadResource = async () => {\n    if (!newResource.name || !newResource.subject_name || !newResource.subject_code) {\n      setNotification({\n        open: true,\n        message: 'Please fill all required fields',\n        severity: 'error'\n      });\n      return;\n    }\n    setUploading(true);\n    try {\n      const resourceData = {\n        ...newResource,\n        status: user.role === 'Faculty' ? 'pending' : 'approved'\n      };\n      const res = await fetchWithAuth('/api/resources', {\n        method: 'POST',\n        body: JSON.stringify(resourceData)\n      });\n      if (res.ok) {\n        const createdResource = await res.json();\n        setResources(prev => [createdResource, ...prev]);\n\n        // Emit socket event\n        if (connected) {\n          emit('resource:new', createdResource);\n        }\n        setNotification({\n          open: true,\n          message: user.role === 'Faculty' ? 'âœ… Resource uploaded (pending approval)' : 'âœ… Resource uploaded successfully',\n          severity: 'success'\n        });\n        setOpenUploadDialog(false);\n        setNewResource({\n          name: '',\n          type: 'PDF',\n          subject_name: '',\n          subject_code: '',\n          category: 'Lecture Notes',\n          link: '',\n          file_path: '',\n          expiry_date: ''\n        });\n      } else {\n        throw new Error('Upload failed');\n      }\n    } catch (err) {\n      console.error('Error uploading resource:', err);\n      setNotification({\n        open: true,\n        message: 'âŒ Failed to upload resource',\n        severity: 'error'\n      });\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleDeleteResource = async id => {\n    if (!window.confirm('Are you sure you want to delete this resource?')) return;\n    try {\n      const res = await fetchWithAuth(`/api/resources/${id}`, {\n        method: 'DELETE'\n      });\n      if (res.ok) {\n        setResources(prev => prev.filter(r => r._id !== id));\n\n        // Emit socket event\n        if (connected) {\n          emit('resource:deleted', id);\n        }\n        setNotification({\n          open: true,\n          message: 'âœ… Resource deleted',\n          severity: 'success'\n        });\n      } else {\n        throw new Error('Delete failed');\n      }\n    } catch (err) {\n      console.error('Error deleting resource:', err);\n      setNotification({\n        open: true,\n        message: 'âŒ Failed to delete resource',\n        severity: 'error'\n      });\n    }\n  };\n  const handlePreview = resource => {\n    setSelectedResource(resource);\n    setOpenPreviewDialog(true);\n  };\n  const handleDownload = resource => {\n    // Simulate download\n    console.log('Downloading:', resource.name);\n    // In a real app, this would trigger actual file download\n    alert(`Downloading ${resource.name}...`);\n  };\n  const filtered = resources.filter(r => {\n    const matchesType = type === 'All' || r.type === type;\n    const matchesFolder = folder === 'All' || r.category === folder;\n\n    // Students only see approved resources\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'Student') {\n      return matchesType && matchesFolder && r.status === 'approved';\n    }\n\n    // Faculty see their own resources and approved resources\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'Faculty') {\n      var _r$uploaded_by;\n      return matchesType && matchesFolder && (((_r$uploaded_by = r.uploaded_by) === null || _r$uploaded_by === void 0 ? void 0 : _r$uploaded_by._id) === (user === null || user === void 0 ? void 0 : user.id) || r.status === 'approved');\n    }\n\n    // HOD and DEAN see all resources\n    return matchesType && matchesFolder;\n  });\n  const sortedResources = React.useMemo(() => {\n    let sorted = [...filtered];\n    switch (sortBy) {\n      case 'date':\n        sorted.sort((a, b) => b.id - a.id); // Assuming higher ID = newer\n        break;\n      case 'expiry':\n        sorted.sort((a, b) => new Date(a.expiryDate) - new Date(b.expiryDate));\n        break;\n      case 'downloads':\n        sorted.sort((a, b) => b.downloads - a.downloads);\n        break;\n      case 'subject':\n        sorted.sort((a, b) => (a.subjectCode || '').localeCompare(b.subjectCode || ''));\n        break;\n      default:\n        break;\n    }\n    return sorted;\n  }, [filtered, sortBy]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          fontWeight: 700,\n          sx: {\n            mb: 0.5\n          },\n          children: \"\\uD83D\\uDCDA Resources\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"Study materials and reference documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), canUpload && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"success\",\n        onClick: () => setOpenUploadDialog(true),\n        sx: {\n          borderRadius: 2,\n          px: 3,\n          py: 1.5,\n          fontWeight: 600,\n          boxShadow: 3,\n          '&:hover': {\n            boxShadow: 6,\n            transform: 'translateY(-2px)'\n          },\n          transition: '0.3s'\n        },\n        children: \"+ Upload Resource\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      gap: 2,\n      mb: 3,\n      flexWrap: \"wrap\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Type\",\n        value: type,\n        onChange: e => setType(e.target.value),\n        sx: {\n          minWidth: 150\n        },\n        children: types.map(t => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: t,\n          children: t\n        }, t, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 27\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        label: \"Folder\",\n        value: folder,\n        onChange: e => setFolder(e.target.value),\n        sx: {\n          minWidth: 150\n        },\n        children: folders.map(f => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: f,\n          children: f\n        }, f, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: sortedResources.map(r => {\n        var _r$uploaded_by2;\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Fade, {\n            in: true,\n            timeout: 700,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              elevation: 3,\n              sx: {\n                borderRadius: 3,\n                position: 'relative'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'start',\n                    mb: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: r.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this), canDelete(r) && /*#__PURE__*/_jsxDEV(IconButton, {\n                    size: \"small\",\n                    color: \"error\",\n                    onClick: () => handleDeleteResource(r._id),\n                    children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  gutterBottom: true,\n                  children: [r.subject_name, \" (\", r.subject_code, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mt: 1,\n                    mb: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Chip, {\n                    label: r.type,\n                    color: \"info\",\n                    size: \"small\",\n                    sx: {\n                      mr: 1,\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: r.category,\n                    color: \"secondary\",\n                    size: \"small\",\n                    sx: {\n                      mr: 1,\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this), r.status === 'pending' && /*#__PURE__*/_jsxDEV(Chip, {\n                    label: \"Pending\",\n                    color: \"warning\",\n                    size: \"small\",\n                    sx: {\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 48\n                  }, this), r.status === 'approved' && /*#__PURE__*/_jsxDEV(Chip, {\n                    label: \"Approved\",\n                    color: \"success\",\n                    size: \"small\",\n                    sx: {\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: [\"Uploaded by: \", ((_r$uploaded_by2 = r.uploaded_by) === null || _r$uploaded_by2 === void 0 ? void 0 : _r$uploaded_by2.name) || 'Unknown', \" \\u2022 \", new Date(r.created_at).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  mt: 2,\n                  children: r.link ? /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    sx: {\n                      mr: 1\n                    },\n                    startIcon: /*#__PURE__*/_jsxDEV(PreviewIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 36\n                    }, this),\n                    onClick: () => window.open(r.link, '_blank'),\n                    children: \"Open Link\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    sx: {\n                      mr: 1\n                    },\n                    startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 36\n                    }, this),\n                    onClick: () => handleDownload(r),\n                    children: \"Download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)\n        }, r.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openPreviewDialog,\n      onClose: () => setOpenPreviewDialog(false),\n      maxWidth: \"lg\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: selectedResource === null || selectedResource === void 0 ? void 0 : selectedResource.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Chip, {\n              label: selectedResource === null || selectedResource === void 0 ? void 0 : selectedResource.type,\n              color: \"primary\",\n              size: \"small\",\n              sx: {\n                mr: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: selectedResource === null || selectedResource === void 0 ? void 0 : selectedResource.version,\n              color: \"info\",\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: selectedResource && /*#__PURE__*/_jsxDEV(Box, {\n          children: [selectedResource.type === 'PDF' && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: '100%',\n              height: '70vh',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              bgcolor: 'grey.100',\n              borderRadius: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              color: \"text.secondary\",\n              children: \"PDF Preview would display here. In production, use an iframe or PDF viewer library like react-pdf.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this), ['JPG', 'JPEG', 'PNG', 'GIF'].includes((_selectedResource$typ = selectedResource.type) === null || _selectedResource$typ === void 0 ? void 0 : _selectedResource$typ.toUpperCase()) && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedResource.url || '/placeholder-image.jpg',\n              alt: selectedResource.name,\n              style: {\n                maxWidth: '100%',\n                maxHeight: '70vh',\n                objectFit: 'contain'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this), !['PDF', 'JPG', 'JPEG', 'PNG', 'GIF'].includes((_selectedResource$typ2 = selectedResource.type) === null || _selectedResource$typ2 === void 0 ? void 0 : _selectedResource$typ2.toUpperCase()) && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 3,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Preview not available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: [selectedResource.type, \" files cannot be previewed directly.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 32\n              }, this),\n              onClick: () => handleDownload(selectedResource),\n              sx: {\n                mt: 2\n              },\n              children: \"Download to View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3,\n              p: 2,\n              bgcolor: 'grey.50',\n              borderRadius: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Subject\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [selectedResource.subjectName, \" (\", selectedResource.subjectCode, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Folder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: selectedResource.folder\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Uploaded By\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: selectedResource.uploaded_by\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Downloads\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: selectedResource.downloads\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Expires On\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: selectedResource.expiryDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 24\n          }, this),\n          variant: \"contained\",\n          onClick: () => handleDownload(selectedResource),\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenPreviewDialog(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openUploadDialog,\n      onClose: () => setOpenUploadDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"\\uD83D\\uDCE4 Upload Resource\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 2,\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Resource Name *\",\n            fullWidth: true,\n            value: newResource.name,\n            onChange: e => setNewResource({\n              ...newResource,\n              name: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            label: \"Type *\",\n            fullWidth: true,\n            value: newResource.type,\n            onChange: e => setNewResource({\n              ...newResource,\n              type: e.target.value\n            }),\n            children: types.filter(t => t !== 'All').map(t => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: t,\n              children: t\n            }, t, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 56\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            label: \"Category *\",\n            fullWidth: true,\n            value: newResource.category,\n            onChange: e => setNewResource({\n              ...newResource,\n              category: e.target.value\n            }),\n            children: folders.filter(f => f !== 'All').map(f => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: f,\n              children: f\n            }, f, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 58\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Subject Name *\",\n            fullWidth: true,\n            value: newResource.subject_name,\n            onChange: e => setNewResource({\n              ...newResource,\n              subject_name: e.target.value\n            }),\n            placeholder: \"e.g., Database Management Systems\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Subject Code *\",\n            fullWidth: true,\n            value: newResource.subject_code,\n            onChange: e => setNewResource({\n              ...newResource,\n              subject_code: e.target.value\n            }),\n            placeholder: \"e.g., CSE401\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Link URL\",\n            fullWidth: true,\n            value: newResource.link,\n            onChange: e => setNewResource({\n              ...newResource,\n              link: e.target.value\n            }),\n            placeholder: \"https://drive.google.com/...\",\n            helperText: \"Provide a Google Drive, Dropbox, or other cloud storage link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Expiry Date\",\n            type: \"date\",\n            fullWidth: true,\n            InputLabelProps: {\n              shrink: true\n            },\n            value: newResource.expiry_date,\n            onChange: e => setNewResource({\n              ...newResource,\n              expiry_date: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenUploadDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleUploadResource,\n          variant: \"contained\",\n          startIcon: uploading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 69\n          }, this),\n          disabled: uploading,\n          children: uploading ? 'Uploading...' : 'Upload'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: notification.open,\n      autoHideDuration: 6000,\n      onClose: () => setNotification({\n        ...notification,\n        open: false\n      }),\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setNotification({\n          ...notification,\n          open: false\n        }),\n        severity: notification.severity,\n        sx: {\n          width: '100%'\n        },\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_s(Resources, \"PTJHoSJjwQZO80XzW+/gB8EyFD0=\", false, function () {\n  return [useSocket];\n});\n_c = Resources;\nexport default Resources;\nvar _c;\n$RefreshReg$(_c, \"Resources\");","map":{"version":3,"names":["React","useState","useContext","Box","Typography","Grid","Card","CardContent","Button","Fade","Chip","TextField","MenuItem","Dialog","DialogTitle","DialogContent","DialogActions","FormControl","InputLabel","Select","Snackbar","Alert","CircularProgress","IconButton","PreviewIcon","DownloadIcon","AddIcon","DeleteIcon","CloudUploadIcon","UserContext","useSocket","fetchWithAuth","jsxDEV","_jsxDEV","types","folders","Resources","_s","_selectedResource$typ","_selectedResource$typ2","user","on","off","emit","connected","resources","setResources","loading","setLoading","type","setType","folder","setFolder","sortBy","setSortBy","openUploadDialog","setOpenUploadDialog","openPreviewDialog","setOpenPreviewDialog","selectedResource","setSelectedResource","notification","setNotification","open","message","severity","uploading","setUploading","newResource","setNewResource","name","subject_name","subject_code","category","link","file_path","expiry_date","useEffect","then","res","ok","json","data","catch","err","console","error","handleNewResource","resource","prev","handleResourceDeleted","resourceId","filter","r","_id","canUpload","includes","role","canEdit","uploaded_by","id","canDelete","handleUploadResource","resourceData","status","method","body","JSON","stringify","createdResource","Error","handleDeleteResource","window","confirm","handlePreview","handleDownload","log","alert","filtered","matchesType","matchesFolder","_r$uploaded_by","sortedResources","useMemo","sorted","sort","a","b","Date","expiryDate","downloads","subjectCode","localeCompare","children","display","justifyContent","alignItems","mb","variant","fontWeight","sx","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","borderRadius","px","py","boxShadow","transform","transition","gap","flexWrap","select","label","value","onChange","e","target","minWidth","map","t","f","container","spacing","_r$uploaded_by2","item","xs","md","in","timeout","elevation","position","size","gutterBottom","mt","mr","created_at","toLocaleDateString","startIcon","onClose","maxWidth","fullWidth","version","dividers","width","height","bgcolor","toUpperCase","textAlign","src","url","alt","style","maxHeight","objectFit","p","subjectName","flexDirection","placeholder","helperText","InputLabelProps","shrink","disabled","autoHideDuration","anchorOrigin","vertical","horizontal","_c","$RefreshReg$"],"sources":["D:/documents/Desktop/CSE-DB/frontend/src/pages/Resources.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Box, Typography, Grid, Card, CardContent, Button, Fade, Chip, TextField, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions, FormControl, InputLabel, Select, Snackbar, Alert, CircularProgress, IconButton } from '@mui/material';\r\nimport PreviewIcon from '@mui/icons-material/Preview';\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\r\nimport { UserContext } from '../App';\r\nimport { useSocket } from '../contexts/SocketContext';\r\nimport fetchWithAuth from '../utils/api';\r\n\r\nconst types = ['All', 'PDF', 'DOCX', 'PPT', 'Link', 'Video'];\r\nconst folders = ['All', 'Lecture Notes', 'Lab Materials', 'Reference Books', 'Question Papers', 'Other'];\r\n\r\nconst Resources = () => {\r\n  const { user } = useContext(UserContext);\r\n  const { on, off, emit, connected } = useSocket();\r\n  const [resources, setResources] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [type, setType] = useState('All');\r\n  const [folder, setFolder] = useState('All');\r\n  const [sortBy, setSortBy] = useState('date');\r\n  const [openUploadDialog, setOpenUploadDialog] = useState(false);\r\n  const [openPreviewDialog, setOpenPreviewDialog] = useState(false);\r\n  const [selectedResource, setSelectedResource] = useState(null);\r\n  const [notification, setNotification] = useState({ open: false, message: '', severity: 'info' });\r\n  const [uploading, setUploading] = useState(false);\r\n  const [newResource, setNewResource] = useState({\r\n    name: '',\r\n    type: 'PDF',\r\n    subject_name: '',\r\n    subject_code: '',\r\n    category: 'Lecture Notes',\r\n    link: '',\r\n    file_path: '',\r\n    expiry_date: ''\r\n  });\r\n\r\n  // Fetch resources from database\r\n  React.useEffect(() => {\r\n    fetchWithAuth('/api/resources')\r\n      .then(res => res.ok ? res.json() : [])\r\n      .then(data => {\r\n        setResources(data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error fetching resources:', err);\r\n        setResources([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // Real-time updates\r\n  React.useEffect(() => {\r\n    if (!connected) return;\r\n\r\n    const handleNewResource = (resource) => {\r\n      setResources(prev => [resource, ...prev]);\r\n      setNotification({ \r\n        open: true, \r\n        message: `ðŸ“š New resource uploaded: ${resource.name}`, \r\n        severity: 'info' \r\n      });\r\n    };\r\n\r\n    const handleResourceDeleted = (resourceId) => {\r\n      setResources(prev => prev.filter(r => r._id !== resourceId));\r\n      setNotification({ \r\n        open: true, \r\n        message: 'ðŸ—‘ï¸ Resource deleted', \r\n        severity: 'warning' \r\n      });\r\n    };\r\n\r\n    on('new-resource', handleNewResource);\r\n    on('resource-deleted', handleResourceDeleted);\r\n\r\n    return () => {\r\n      off('new-resource', handleNewResource);\r\n      off('resource-deleted', handleResourceDeleted);\r\n    };\r\n  }, [connected, on, off]);\r\n  \r\n  // Permissions - Faculty/HOD/DEAN can upload and manage resources\r\n  const canUpload = user && ['HOD', 'DEAN', 'Faculty'].includes(user?.role);\r\n  const canEdit = (resource) => {\r\n    if (!user) return false;\r\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\r\n    if (user.role === 'Faculty') return resource.uploaded_by === user.id;\r\n    return false;\r\n  };\r\n  const canDelete = (resource) => {\r\n    if (!user) return false;\r\n    if (['HOD', 'DEAN'].includes(user.role)) return true;\r\n    if (user.role === 'Faculty') return resource.uploaded_by === user.id;\r\n    return false;\r\n  };\r\n  \r\n  const handleUploadResource = async () => {\r\n    if (!newResource.name || !newResource.subject_name || !newResource.subject_code) {\r\n      setNotification({ open: true, message: 'Please fill all required fields', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    \r\n    try {\r\n      const resourceData = {\r\n        ...newResource,\r\n        status: user.role === 'Faculty' ? 'pending' : 'approved'\r\n      };\r\n\r\n      const res = await fetchWithAuth('/api/resources', {\r\n        method: 'POST',\r\n        body: JSON.stringify(resourceData)\r\n      });\r\n\r\n      if (res.ok) {\r\n        const createdResource = await res.json();\r\n        setResources(prev => [createdResource, ...prev]);\r\n        \r\n        // Emit socket event\r\n        if (connected) {\r\n          emit('resource:new', createdResource);\r\n        }\r\n\r\n        setNotification({ \r\n          open: true, \r\n          message: user.role === 'Faculty' ? 'âœ… Resource uploaded (pending approval)' : 'âœ… Resource uploaded successfully', \r\n          severity: 'success' \r\n        });\r\n        \r\n        setOpenUploadDialog(false);\r\n        setNewResource({\r\n          name: '',\r\n          type: 'PDF',\r\n          subject_name: '',\r\n          subject_code: '',\r\n          category: 'Lecture Notes',\r\n          link: '',\r\n          file_path: '',\r\n          expiry_date: ''\r\n        });\r\n      } else {\r\n        throw new Error('Upload failed');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error uploading resource:', err);\r\n      setNotification({ open: true, message: 'âŒ Failed to upload resource', severity: 'error' });\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n  \r\n  const handleDeleteResource = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this resource?')) return;\r\n\r\n    try {\r\n      const res = await fetchWithAuth(`/api/resources/${id}`, { method: 'DELETE' });\r\n\r\n      if (res.ok) {\r\n        setResources(prev => prev.filter(r => r._id !== id));\r\n        \r\n        // Emit socket event\r\n        if (connected) {\r\n          emit('resource:deleted', id);\r\n        }\r\n\r\n        setNotification({ open: true, message: 'âœ… Resource deleted', severity: 'success' });\r\n      } else {\r\n        throw new Error('Delete failed');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting resource:', err);\r\n      setNotification({ open: true, message: 'âŒ Failed to delete resource', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  const handlePreview = (resource) => {\r\n    setSelectedResource(resource);\r\n    setOpenPreviewDialog(true);\r\n  };\r\n\r\n  const handleDownload = (resource) => {\r\n    // Simulate download\r\n    console.log('Downloading:', resource.name);\r\n    // In a real app, this would trigger actual file download\r\n    alert(`Downloading ${resource.name}...`);\r\n  };\r\n\r\n  const filtered = resources.filter(r => {\r\n    const matchesType = type === 'All' || r.type === type;\r\n    const matchesFolder = folder === 'All' || r.category === folder;\r\n    \r\n    // Students only see approved resources\r\n    if (user?.role === 'Student') {\r\n      return matchesType && matchesFolder && r.status === 'approved';\r\n    }\r\n    \r\n    // Faculty see their own resources and approved resources\r\n    if (user?.role === 'Faculty') {\r\n      return matchesType && matchesFolder && (r.uploaded_by?._id === user?.id || r.status === 'approved');\r\n    }\r\n    \r\n    // HOD and DEAN see all resources\r\n    return matchesType && matchesFolder;\r\n  });\r\n  \r\n  const sortedResources = React.useMemo(() => {\r\n    let sorted = [...filtered];\r\n    switch(sortBy) {\r\n      case 'date':\r\n        sorted.sort((a, b) => b.id - a.id); // Assuming higher ID = newer\r\n        break;\r\n      case 'expiry':\r\n        sorted.sort((a, b) => new Date(a.expiryDate) - new Date(b.expiryDate));\r\n        break;\r\n      case 'downloads':\r\n        sorted.sort((a, b) => b.downloads - a.downloads);\r\n        break;\r\n      case 'subject':\r\n        sorted.sort((a, b) => (a.subjectCode || '').localeCompare(b.subjectCode || ''));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return sorted;\r\n  }, [filtered, sortBy]);\r\n  \r\n  return (\r\n    <Box>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Box>\r\n          <Typography variant=\"h4\" fontWeight={700} sx={{ mb: 0.5 }}>ðŸ“š Resources</Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">Study materials and reference documents</Typography>\r\n        </Box>\r\n        {canUpload && (\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"success\" \r\n            onClick={() => setOpenUploadDialog(true)}\r\n            sx={{ \r\n              borderRadius: 2, \r\n              px: 3, \r\n              py: 1.5, \r\n              fontWeight: 600,\r\n              boxShadow: 3,\r\n              '&:hover': { boxShadow: 6, transform: 'translateY(-2px)' },\r\n              transition: '0.3s'\r\n            }}\r\n          >\r\n            + Upload Resource\r\n          </Button>\r\n        )}\r\n      </Box>\r\n      <Box display=\"flex\" gap={2} mb={3} flexWrap=\"wrap\">\r\n        <TextField select label=\"Type\" value={type} onChange={e => setType(e.target.value)} sx={{ minWidth: 150 }}>\r\n          {types.map(t => <MenuItem key={t} value={t}>{t}</MenuItem>)}\r\n        </TextField>\r\n        <TextField select label=\"Folder\" value={folder} onChange={e => setFolder(e.target.value)} sx={{ minWidth: 150 }}>\r\n          {folders.map(f => <MenuItem key={f} value={f}>{f}</MenuItem>)}\r\n        </TextField>\r\n      </Box>\r\n      <Grid container spacing={3}>\r\n        {sortedResources.map(r => (\r\n          <Grid item xs={12} md={6} key={r.id}>\r\n            <Fade in timeout={700}>\r\n              <Card elevation={3} sx={{ borderRadius: 3, position: 'relative' }}>\r\n                <CardContent>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', mb: 1 }}>\r\n                    <Typography variant=\"h6\">{r.name}</Typography>\r\n                    {canDelete(r) && (\r\n                      <IconButton \r\n                        size=\"small\" \r\n                        color=\"error\" \r\n                        onClick={() => handleDeleteResource(r._id)}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    )}\r\n                  </Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                    {r.subject_name} ({r.subject_code})\r\n                  </Typography>\r\n                  <Box sx={{ mt: 1, mb: 2 }}>\r\n                    <Chip label={r.type} color=\"info\" size=\"small\" sx={{ mr: 1, mb: 1 }} />\r\n                    <Chip label={r.category} color=\"secondary\" size=\"small\" sx={{ mr: 1, mb: 1 }} />\r\n                    {r.status === 'pending' && <Chip label=\"Pending\" color=\"warning\" size=\"small\" sx={{ mb: 1 }} />}\r\n                    {r.status === 'approved' && <Chip label=\"Approved\" color=\"success\" size=\"small\" sx={{ mb: 1 }} />}\r\n                  </Box>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    Uploaded by: {r.uploaded_by?.name || 'Unknown'} â€¢ {new Date(r.created_at).toLocaleDateString()}\r\n                  </Typography>\r\n                  <Box mt={2}>\r\n                    {r.link ? (\r\n                      <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        sx={{ mr: 1 }}\r\n                        startIcon={<PreviewIcon />}\r\n                        onClick={() => window.open(r.link, '_blank')}\r\n                      >\r\n                        Open Link\r\n                      </Button>\r\n                    ) : (\r\n                      <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        sx={{ mr: 1 }}\r\n                        startIcon={<DownloadIcon />}\r\n                        onClick={() => handleDownload(r)}\r\n                      >\r\n                        Download\r\n                      </Button>\r\n                    )}\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Fade>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      {/* Preview Dialog */}\r\n      <Dialog \r\n        open={openPreviewDialog} \r\n        onClose={() => setOpenPreviewDialog(false)}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\">{selectedResource?.name}</Typography>\r\n            <Box>\r\n              <Chip label={selectedResource?.type} color=\"primary\" size=\"small\" sx={{ mr: 1 }} />\r\n              <Chip label={selectedResource?.version} color=\"info\" size=\"small\" />\r\n            </Box>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedResource && (\r\n            <Box>\r\n              {/* PDF Preview */}\r\n              {selectedResource.type === 'PDF' && (\r\n                <Box sx={{ \r\n                  width: '100%', \r\n                  height: '70vh', \r\n                  display: 'flex', \r\n                  justifyContent: 'center', \r\n                  alignItems: 'center',\r\n                  bgcolor: 'grey.100',\r\n                  borderRadius: 1\r\n                }}>\r\n                  <Typography variant=\"body1\" color=\"text.secondary\">\r\n                    PDF Preview would display here. In production, use an iframe or PDF viewer library like react-pdf.\r\n                  </Typography>\r\n                  {/* Example: <iframe src={selectedResource.url} width=\"100%\" height=\"100%\" /> */}\r\n                </Box>\r\n              )}\r\n              \r\n              {/* Image Preview */}\r\n              {['JPG', 'JPEG', 'PNG', 'GIF'].includes(selectedResource.type?.toUpperCase()) && (\r\n                <Box sx={{ textAlign: 'center' }}>\r\n                  <img \r\n                    src={selectedResource.url || '/placeholder-image.jpg'} \r\n                    alt={selectedResource.name}\r\n                    style={{ maxWidth: '100%', maxHeight: '70vh', objectFit: 'contain' }}\r\n                  />\r\n                </Box>\r\n              )}\r\n              \r\n              {/* Document Info for non-previewable types */}\r\n              {!['PDF', 'JPG', 'JPEG', 'PNG', 'GIF'].includes(selectedResource.type?.toUpperCase()) && (\r\n                <Box sx={{ p: 3, textAlign: 'center' }}>\r\n                  <Typography variant=\"h6\" gutterBottom>Preview not available</Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                    {selectedResource.type} files cannot be previewed directly.\r\n                  </Typography>\r\n                  <Button \r\n                    variant=\"contained\" \r\n                    startIcon={<DownloadIcon />}\r\n                    onClick={() => handleDownload(selectedResource)}\r\n                    sx={{ mt: 2 }}\r\n                  >\r\n                    Download to View\r\n                  </Button>\r\n                </Box>\r\n              )}\r\n              \r\n              {/* Resource Details */}\r\n              <Box sx={{ mt: 3, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">Subject</Typography>\r\n                    <Typography variant=\"body2\">{selectedResource.subjectName} ({selectedResource.subjectCode})</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">Folder</Typography>\r\n                    <Typography variant=\"body2\">{selectedResource.folder}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">Uploaded By</Typography>\r\n                    <Typography variant=\"body2\">{selectedResource.uploaded_by}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">Downloads</Typography>\r\n                    <Typography variant=\"body2\">{selectedResource.downloads}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">Expires On</Typography>\r\n                    <Typography variant=\"body2\">{selectedResource.expiryDate}</Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            startIcon={<DownloadIcon />}\r\n            variant=\"contained\"\r\n            onClick={() => handleDownload(selectedResource)}\r\n          >\r\n            Download\r\n          </Button>\r\n          <Button onClick={() => setOpenPreviewDialog(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Upload Dialog */}\r\n      <Dialog open={openUploadDialog} onClose={() => setOpenUploadDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>ðŸ“¤ Upload Resource</DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, mt: 1 }}>\r\n            <TextField\r\n              label=\"Resource Name *\"\r\n              fullWidth\r\n              value={newResource.name}\r\n              onChange={(e) => setNewResource({ ...newResource, name: e.target.value })}\r\n            />\r\n            <TextField\r\n              select\r\n              label=\"Type *\"\r\n              fullWidth\r\n              value={newResource.type}\r\n              onChange={(e) => setNewResource({ ...newResource, type: e.target.value })}\r\n            >\r\n              {types.filter(t => t !== 'All').map(t => <MenuItem key={t} value={t}>{t}</MenuItem>)}\r\n            </TextField>\r\n            <TextField\r\n              select\r\n              label=\"Category *\"\r\n              fullWidth\r\n              value={newResource.category}\r\n              onChange={(e) => setNewResource({ ...newResource, category: e.target.value })}\r\n            >\r\n              {folders.filter(f => f !== 'All').map(f => <MenuItem key={f} value={f}>{f}</MenuItem>)}\r\n            </TextField>\r\n            <TextField\r\n              label=\"Subject Name *\"\r\n              fullWidth\r\n              value={newResource.subject_name}\r\n              onChange={(e) => setNewResource({ ...newResource, subject_name: e.target.value })}\r\n              placeholder=\"e.g., Database Management Systems\"\r\n            />\r\n            <TextField\r\n              label=\"Subject Code *\"\r\n              fullWidth\r\n              value={newResource.subject_code}\r\n              onChange={(e) => setNewResource({ ...newResource, subject_code: e.target.value })}\r\n              placeholder=\"e.g., CSE401\"\r\n            />\r\n            <TextField\r\n              label=\"Link URL\"\r\n              fullWidth\r\n              value={newResource.link}\r\n              onChange={(e) => setNewResource({ ...newResource, link: e.target.value })}\r\n              placeholder=\"https://drive.google.com/...\"\r\n              helperText=\"Provide a Google Drive, Dropbox, or other cloud storage link\"\r\n            />\r\n            <TextField\r\n              label=\"Expiry Date\"\r\n              type=\"date\"\r\n              fullWidth\r\n              InputLabelProps={{ shrink: true }}\r\n              value={newResource.expiry_date}\r\n              onChange={(e) => setNewResource({ ...newResource, expiry_date: e.target.value })}\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenUploadDialog(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={handleUploadResource} \r\n            variant=\"contained\" \r\n            startIcon={uploading ? <CircularProgress size={20} /> : <CloudUploadIcon />}\r\n            disabled={uploading}\r\n          >\r\n            {uploading ? 'Uploading...' : 'Upload'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Notification Snackbar */}\r\n      <Snackbar\r\n        open={notification.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setNotification({ ...notification, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={() => setNotification({ ...notification, open: false })} \r\n          severity={notification.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {notification.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Resources;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}